<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="godray.css">
        <link rel="stylesheet" href="liquid.css">
    </head>
    <body>
        <header class="site-header">
          <img src="backgroundRemove.png" alt="" id="avater-img">
          <h1 class="sr-only">Yuhang's personal website</h1>
        
          <!-- Because Chrome crashes if an overflow is set on the fieldset while a named timeline is on a child element -->
          <!-- Â¯\_(ãƒ„)_/Â¯ -->
          <div class="fieldset-wrapper">
            <fieldset id="nav-bar">
              <legend class="sr-only">label</legend>
      
              <!-- radio buttons for each of the @keyframes above -->
              <input type="radio" id="intro" name="effect" value="blink" checked class="sr-only">
              <label for="intro" value="intro">Intro</label>
      
              <input type="radio" id="aboutme" name="effect" value="horizontal-scroll" class="sr-only">
              <label for="aboutme" value="aboutme">About me</label>
      
              <input type="radio" id="education-works-and-projects" name="effect" value="backwards-scroll" class="sr-only">
              <label for="education-works-and-projects" value="education-works-and-projects">Education, Works and Projects</label>
      
              <input type="radio" id="skills" name="effect" value="zoom-scroll" class="sr-only">
              <label for="skills" value="skills">Skills</label>
              
              <input type="radio" id="contact-me" name="effect" value="zoom-scroll" class="sr-only">
              <label for="contact-me" value="contact-me">Contact Me</label>
            </fieldset>
          </div>
      
          <nav>
            <ul class="indicator" id="indicator">
              <li><a href="#intro-part" value="intro" id="intro-li"></a></li>
              <li><a href="#aboutme-part" value="aboutme" id="aboutme-li"></a></li>
              <li><a href="#education-part" value="education-works-and-projects" id="education-works-and-projects-li"></a></li>
              <li><a href="#skills-part" value="skills" id="skills-li"></a></li>
              <li><a href="#contactme-part" value="contact-me" id="contact-me-li"></a></li>
            </ul>
          </nav>
        </header>
        <main>
          <section id="intro-part" class="section">
            <div class="intro-background"></div>
            <div class="content">
              <h2><strong>Hi</strong>, I'm <em>Yuhang Zhang</em>, a frontend developer</h2>
              <div class="text">
                <h4>
                  I'm a computer engineer student
                  who is right now pursuing my master degree
                  at <code class="selector">University of Southern California</code>.
                  I've 1 year of working experience in <code class="property">frontend 
                  development</code>.I love dogs, running and arcade video games
                </h4>
              </div>
            </div>
          </section>
          <section id="aboutme-part" class="section">
            <div class="liquid-content">
                <img id="liquid-img" src="onthebattleship.jpg"/>
            </div>
            <canvas id="liquid-canvas"></canvas>
            <div class="content">
              <div class="text">
                <h6>
                  After spending 
                </h6>
              </div>
              <div class="text">
                <h6>
                  I'm a computer engineer student
                  who is right now pursuing my master degree
                  at <code class="selector">University of Southern California</code>.
                  I've 1 year of working experience in <code class="property">frontend 
                  development</code>.I love dogs, running and arcade fighting game
                </h6>
              </div>
            </div>
          </section>
          <section id="education-part" class="section">
            <div class="content">
              <h2><strong>Then</strong>, we position a <em>fixed</em> layout</h2>
      
              <div class="text">
                <img src="https://assets.codepen.io/197359/flower-blue.png" alt="">
                <p>We set the <code class="selector">.content</code> elements to <code class="property">position: fixed</code>, so they're removed from the normal document flow and stack on top of each other, giving them a solid background, so only one is visible at a time.</p>
      
                <p>Their parent <code class="selector">section</code>s are positioned as normal in the layer below, taking up space, scroll-snapping, and powering the <code class="property">animation-timeline</code>.</p>
              </div>
            </div>
          </section>
          <section id="skills-part" class="section">
            <div class="content">
              <h2><strong>Finally</strong>, we create the <em>transition</em> effects</h2>
      
              <div class="text">
                <img src="https://assets.codepen.io/197359/flower-red.png" alt="">
                <p>By setting the <code class="selector">.content</code> elements to <code class="property">position: fixed</code>, we can now transition between them without a visible scrolling movement.</p>
      
                <p>We create a normal <code class="selector">@keyframe</code> animation to our liking to transition between them. Check the navigation menu to see different effects.</p>
              </div>
            </div>
          </section>
          <section id="contactme-part" class="section">
            <div class="content">
              <h2><strong>Caveats</strong></h2>
      
              <div class="text">
                <img src="https://assets.codepen.io/197359/flower-purple.png" alt="">
                <ul>
                  <li>Scrolling animations are not currently available in Firefox. This demo is using a polyfill.</li>
                  <li>This layout is fragile due to the use of <code class="property">position: fixed</code>. You need to carefully manage stacking contexts.</li>
                  <li>Snapping points have their own caveats, such as content taller than the viewport becoming inaccessible, along with the general annoyance of scrolljacking.</li>
                  <li>The <code class="selector">blink</code> effect uses the <code class="property">contrast()</code> filter, which modifies the colors of the entire section. Thus, the background is set to black (or white), ensuring that it appears unchanged during transitions due to already being at maximum contrast.</li>
                </ul>
              </div>
            </div>
          </section>
      
        </main>
      
        <footer>
          <p>That's it <span class="emoji">ðŸŒ¸</span></p>
        </footer>
        <script type="x-shader/x-fragment" id="vertShader">
            precision highp float;
        
            attribute vec2 aPosition;
            varying vec2 vUv;
            varying vec2 vL;
            varying vec2 vR;
            varying vec2 vT;
            varying vec2 vB;
            uniform vec2 u_vertex_texel;
        
            void main () {
                vUv = aPosition * .5 + .5;
                vL = vUv - vec2(u_vertex_texel.x, 0.);
                vR = vUv + vec2(u_vertex_texel.x, 0.);
                vT = vUv + vec2(0., u_vertex_texel.y);
                vB = vUv - vec2(0., u_vertex_texel.y);
                gl_Position = vec4(aPosition, 0., 1.);
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderAdvection">
            precision highp float;
            precision highp sampler2D;
        
            varying vec2 vUv;
            uniform sampler2D u_velocity_txr;
            uniform sampler2D u_input_txr;
            uniform vec2 u_vertex_texel;
            uniform vec2 u_output_textel;
            uniform float u_dt;
            uniform float u_dissipation;
        
            vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
                vec2 st = uv / tsize - 0.5;
        
                vec2 iuv = floor(st);
                vec2 fuv = fract(st);
        
                vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
                vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
                vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
                vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);
        
                return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
            }
        
            void main () {
                vec2 coord = vUv - u_dt * bilerp(u_velocity_txr, vUv, u_vertex_texel).xy * u_vertex_texel;
                gl_FragColor = u_dissipation * bilerp(u_input_txr, coord, u_output_textel);
                gl_FragColor.a = 1.;
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderDivergence">
            precision highp float;
            precision highp sampler2D;
        
            varying highp vec2 vUv;
            varying highp vec2 vL;
            varying highp vec2 vR;
            varying highp vec2 vT;
            varying highp vec2 vB;
            uniform sampler2D u_velocity_txr;
        
            void main () {
                float L = texture2D(u_velocity_txr, vL).x;
                float R = texture2D(u_velocity_txr, vR).x;
                float T = texture2D(u_velocity_txr, vT).y;
                float B = texture2D(u_velocity_txr, vB).y;
        
                float div = .5 * (R - L + T - B);
                gl_FragColor = vec4(div, 0., 0., 1.);
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderPressure">
            precision highp float;
            precision highp sampler2D;
        
            varying highp vec2 vUv;
            varying highp vec2 vL;
            varying highp vec2 vR;
            varying highp vec2 vT;
            varying highp vec2 vB;
            uniform sampler2D u_pressure_txr;
            uniform sampler2D u_divergence_txr;
        
            void main () {
                float L = texture2D(u_pressure_txr, vL).x;
                float R = texture2D(u_pressure_txr, vR).x;
                float T = texture2D(u_pressure_txr, vT).x;
                float B = texture2D(u_pressure_txr, vB).x;
                float C = texture2D(u_pressure_txr, vUv).x;
                float divergence = texture2D(u_divergence_txr, vUv).x;
                float pressure = (L + R + B + T - divergence) * 0.25;
                gl_FragColor = vec4(pressure, 0., 0., 1.);
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderGradientSubtract">
            precision highp float;
            precision highp sampler2D;
        
            varying highp vec2 vUv;
            varying highp vec2 vL;
            varying highp vec2 vR;
            varying highp vec2 vT;
            varying highp vec2 vB;
            uniform sampler2D u_pressure_txr;
            uniform sampler2D u_velocity_txr;
        
            void main () {
                float L = texture2D(u_pressure_txr, vL).x;
                float R = texture2D(u_pressure_txr, vR).x;
                float T = texture2D(u_pressure_txr, vT).x;
                float B = texture2D(u_pressure_txr, vB).x;
                vec2 velocity = texture2D(u_velocity_txr, vUv).xy;
                velocity.xy -= vec2(R - L, T - B);
                gl_FragColor = vec4(velocity, 0., 1.);
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderPoint">
            precision highp float;
            precision highp sampler2D;
        
            varying vec2 vUv;
            uniform sampler2D u_input_txr;
            uniform float u_ratio;
            uniform vec3 u_point_value;
            uniform vec2 u_point;
            uniform float u_point_size;
        
            void main () {
                vec2 p = vUv - u_point.xy;
                p.x *= u_ratio;
                vec3 splat = pow(2., -dot(p, p) / u_point_size) * u_point_value;
                vec3 base = texture2D(u_input_txr, vUv).xyz;
                gl_FragColor = vec4(base + splat, 1.);
            }
        </script>
        
        <script type="x-shader/x-fragment" id="fragShaderDisplay">
            precision highp float;
            precision highp sampler2D;
        
            varying vec2 vUv;
            uniform sampler2D u_output_texture;
        
            void main () {
                vec3 C = texture2D(u_output_texture, vUv).rgb;
                float a = max(C.r, max(C.g, C.b));
                a = pow(.1 * a, .1);
                a = clamp(a, 0., 1.);
                gl_FragColor = vec4(1. - C, 1. - a);
            }
        </script>
        <script src="script.js"></script>
        <script src="liquid.js"></script>
    </body>
</html>
